<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>CSE 578: Data Visualization Project: VAST 2019 MC2</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  
  <script src="map.js"></script>
  <script src="legend.js"></script>
  <script src="shrey_main.js"></script>
  <script src="aanshi1_main.js"></script>
  <script src="radialChart.js" ></script>
  <script src="aanshi2_main.js"></script>
  <script src="chart1.js"></script>
 <!-- Bootstrap JS and Popper.js -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>

  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="styles_wenhao.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"/>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"/>
  
  
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">VAST 2019 MC2 - Citizen Science to the Rescue</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="#">
                            <div class="nav-circle">
                                <img src="data/images/Tengyu.jpeg" alt="Tengyu" title="Tengyu">
                            </div>
                        </a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" href="#">
                            <div class="nav-circle">
                                <img src="data/images/Wenhao.jpeg" alt="Wenhao" title="Wenhao">
                            </div>
                        </a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" href="#">
                            <div class="nav-circle">
                                <img src="data/images/Shrey.jpeg" alt="Shrey" title="Shrey">
                            </div>
                        </a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" href="#">
                            <div class="nav-circle">
                                <img src="data/images/Himali.jpg" alt="Himali" title="Himali">
                            </div>
                        </a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" href="#">
                            <div class="nav-circle">
                                <img src="data/images/Aanshi.jpeg" alt="Aanshi" title="Aanshi">
                            </div>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        
    </nav>
    <br>

    

    <div class="container-fluid" id = "SvgContainer">
        <div class="row">
            <div class="col-md-6 g-2">
                <div id="pointmap-div" class="border rounded shadow md-6" >
                    <svg id="chart1" height="750" width="620"></svg>
                   <br>
                    <input type="range" min="0" max="720" value="0" id="slider_chart1" list="steplist">
                    <datalist id="steplist">
                        <option>0</option>
                        <option>144</option>
                        <option>288</option>
                        <option>432</option>
                        <option>576</option>
                        <option>720</option>
                    </datalist>
                    <input id='play_button_chart1' type="button" value="PLAY">
                    <div class="center-align">
                        <span id="current_time">2020-04-06 00:00:00</span>
                    </div>

                 </div>
            </div>
            <div class="col-md-6 g-2" >
                <div id="error-div" class="border rounded shadow md-6" >
                    <svg id="svg_error" height="600" width="700">
                    </svg>
                </div>
            </div>   
        </div>
        <div class="row">
            <div class="col-md-auto g-2" >
                <div id="legend-div" class="border rounded shadow auto">
                    <svg id="svg_legend" height="700" width="260"></svg>
                </div>
            </div> 
            <div class="col-md-auto g-2" >
                <div id="choropleth-div" class="border rounded shadow col-md-auto">
                    <svg id="svg_choro" height="650" width="620" class="rounded"></svg>
                    <form class="form-inline">
                        <input id="datepicker" type="date" value="2020-04-06" min="2020-04-06" max="2020-04-10" class="form-control" onchange="dateOnChange(this)" />
                        <input type="time" id="start" class="form-control" value="10:00:00" onchange="timeOnChange()" />
                        <input type="time" id="end" class="form-control" value="11:00:00" onchange="timeOnChange()" />
                        <script>
                            var startTimeInput = document.getElementById('start');
                            var endTimeInput = document.getElementById('end');
                            let startModified = false;
                            let endModified = false;
                            endTimeInput.addEventListener('input', function () {
                                var startTime = new Date('1970-01-01T' + startTimeInput.value);
                                var endTime = new Date('1970-01-01T' + endTimeInput.value);
                                if (endTime < startTime) {
                                    alert('End time cannot be less than start time');
                                }
                            });
        
                            function timeOnChangeDone() {
                                if (startModified && endModified) {
                                    timeOnChange();
                                }
                            }
                            document.getElementById('start').addEventListener('change', function () {
                                startModified = true;
                                timeOnChangeDone();
                            });
                            document.getElementById('end').addEventListener('change', function () {
                                endModified = true;
                                timeOnChangeDone();
                            });
                        </script>
                        
                        <button id="play-pause-button" class="btn btn-primary" type="button">PLAY</button>
                    </form>
                </div>
            </div>
            <div class="col-md-auto g-2">
                <div id="radial-div" class="border rounded shadow auto" >
                    <div class="input-group">
                        <select class="form-select" id="dateDropdown">
                        </select>
                    </div>
        
                    <svg id="svg_radial" height="720" width="420"></svg>
                    
                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-md-auto g-2" >
                <div id="timeseries-div" class="border rounded shadow auto">
                    <div id="ts_dropdown">
                        <label for="dropdownWithFunction">Mobile Sensors </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="sc0" value="0" onchange="checkRegion()"> ID's from 1-10
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="sc1" value="10" onchange="checkRegion()"> ID's from 11-20
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="sc2" value="20" onchange="checkRegion()"> ID's from 21-30
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="sc3" value="30" onchange="checkRegion()"> ID's from 31-40
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="sc4" value="40" onchange="checkRegion()"> ID's from 41-50
                        </label>
                    </div>
                    
                    <svg id="svg_timeseries" height="700" width="850"></svg>
                </div>
            </div>
        </div>
        </div>

    <div id="popupRadial" class="popup" style="display: none;">
        <div class="popup-content">
       
        <!-- <strong>:</strong> -->
        <div id="popupSensorId"></div>
        <svg id="svg_lollipop" height="370" width="1000"></svg>
        </div>
        <button class="close-button" id="closepopup" onclick="closePop()">Close</button>
    </div>

</body>
</html>
